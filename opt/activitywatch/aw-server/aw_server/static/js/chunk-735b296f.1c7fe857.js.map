{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reverse.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/visualizations/TimelineSimple.vue?8df6","webpack:///./src/visualizations/timeline-simple.js","webpack:///src/visualizations/TimelineSimple.vue","webpack:///./src/visualizations/TimelineSimple.vue?2d85","webpack:///./src/visualizations/TimelineSimple.vue?1605","webpack:///./src/visualizations/TimelineSimple.vue?9906","webpack:///./node_modules/core-js/modules/es.array.fill.js"],"names":["$","isArray","nativeReverse","reverse","test","target","proto","forced","String","this","length","call","toObject","toAbsoluteIndex","toLength","module","exports","value","O","argumentsLength","arguments","index","undefined","end","endPos","render","_vm","_h","$createElement","_c","_self","staticRenderFns","d3","require","Color","_","moment","time","create","svg_el","innerHTML","select","attr","set_status","text","timeline","selectAll","remove","append","update","events","event_type","clone","e_first","first","e_last","last","m_first","timestamp","m_last","total_duration","duration","console","log","format","each","e","i","id","color_base","getColorFromString","getTitleAttr","type","color_hover","darken","hex","x","width","eg","rect","style","on","d","j","n","elem","fill","seconds_to_duration","JSON","stringify","data","name","props","Array","watch","timeline_simple","$el","mounted","component","addToUnscopables"],"mappings":"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","file":"js/chunk-735b296f.1c7fe857.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","'use strict';\n\nconst d3 = require('d3');\nconst Color = require('color');\nconst _ = require('lodash');\nconst moment = require('moment');\n\nimport { getTitleAttr, getColorFromString } from '../util/color';\n\nconst time = require('../util/time.js');\n\nfunction create(svg_el) {\n  // Clear element\n  svg_el.innerHTML = '';\n\n  // svg for the colored timeline\n  d3.select(svg_el).attr('viewBox', '0 0 100 4').attr('width', '100%');\n}\n\nfunction set_status(svg_el, text) {\n  const timeline = d3.select(svg_el);\n  timeline.selectAll('*').remove();\n\n  timeline\n    .append('text')\n    .attr('x', '0')\n    .attr('y', '3')\n    .text(text)\n    .attr('font-family', 'sans-serif')\n    .attr('font-size', '2')\n    .attr('fill', 'black');\n}\n\nfunction update(svg_el, events, event_type) {\n  const timeline = d3.select(svg_el);\n  timeline.selectAll('*').remove();\n\n  if (events.length <= 0) {\n    set_status(svg_el, 'No data');\n    return;\n  }\n\n  events = _.clone(events);\n  _.reverse(events);\n  const e_first = _.first(events);\n  const e_last = _.last(events);\n  const m_first = moment(e_first.timestamp);\n  const m_last = moment(e_last.timestamp);\n  const total_duration = (m_last - m_first) / 1000 + e_last.duration;\n  console.log('First: ' + m_first.format());\n  console.log('Last: ' + m_last.format());\n  console.log('Duration: ' + total_duration);\n\n  // Iterate over each event and create interval boxes\n  _.each(events, function (e, i) {\n    const id = 'timeline_event_' + i;\n    const timestamp = moment(e.timestamp);\n\n    const color_base = getColorFromString(getTitleAttr({ type: event_type }, e));\n    const color_hover = Color(color_base).darken(0.4).hex();\n\n    const x = (timestamp - m_first) / 1000 / total_duration;\n    const width = (100 * e.duration) / total_duration;\n\n    const eg = timeline\n      .append('g')\n      .attr('id', id)\n      .attr('transform', 'translate(' + 100 * x + ',' + 0 + ')');\n\n    const rect = eg\n      .append('rect')\n      .attr('width', width)\n      .attr('height', 4)\n      .style('fill', color_base)\n      .on('mouseover', function (d, j, n) {\n        const elem = n[j];\n        elem.style.fill = color_hover;\n      })\n      .on('mouseout', function (d, j, n) {\n        const elem = n[j];\n        elem.style.fill = color_base;\n      });\n\n    rect\n      .append('title')\n      .text(\n        timestamp.format() +\n          '\\n' +\n          'Duration: ' +\n          time.seconds_to_duration(e.duration) +\n          '\\n' +\n          JSON.stringify(e.data)\n      );\n\n    if (e.duration > 0.05 * total_duration) {\n      eg.append('text')\n        .attr('font-size', 2)\n        .attr('x', 1)\n        .attr('y', 2.5)\n        .attr('pointer-events', 'none')\n        .text(getTitleAttr({ type: event_type }, e));\n    }\n  });\n\n  return svg_el;\n}\n\nexport default {\n  create: create,\n  update: update,\n};\n","<template lang=\"pug\">\nsvg\n</template>\n\n<style scoped lang=\"scss\">\nsvg {\n  border: 1px solid #999;\n  border-radius: 0.5em;\n}\n</style>\n\n<script>\n// NOTE: This is just a Vue.js component wrapper for timeline-simple.js\n//       Code should generally go in the framework-independent file.\n\nimport timeline_simple from './timeline-simple.js';\n\nexport default {\n  name: 'aw-timeline',\n  props: {\n    type: String,\n    event_type: String,\n    events: Array,\n  },\n  watch: {\n    events: function () {\n      timeline_simple.update(this.$el, this.events, this.event_type);\n    },\n  },\n  mounted: function () {\n    timeline_simple.create(this.$el);\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineSimple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineSimple.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimelineSimple.vue?vue&type=template&id=6a12465e&scoped=true&lang=pug&\"\nimport script from \"./TimelineSimple.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineSimple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimelineSimple.vue?vue&type=style&index=0&id=6a12465e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a12465e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineSimple.vue?vue&type=style&index=0&id=6a12465e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineSimple.vue?vue&type=style&index=0&id=6a12465e&scoped=true&lang=scss&\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n"],"sourceRoot":""}