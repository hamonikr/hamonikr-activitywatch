{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/queries.ts","webpack:///./src/util/classes.ts","webpack:///./src/util/filters.js","webpack:///./src/util/awclient.js","webpack:///./src/route.js","webpack:///./src/util/fakedata.js","webpack:///./src/store/modules/activity.ts","webpack:///./src/store/modules/buckets.js","webpack:///./src/store/modules/categories.js","webpack:///./src/store/modules/views.ts","webpack:///./src/store/index.js","webpack:///./src/App.vue?796d","webpack:///src/App.vue","webpack:///./src/App.vue?382d","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/util/time.js","webpack:///./src/mixins/asyncErrorCaptured.js","webpack:///./src/util/color.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","querystr_to_array","querystr","split","filter","map","escape_doublequote","replace","isDesktopParams","isAndroidParams","canonicalEvents","params","classes_str","JSON","stringify","classes","cat_filter_str","filter_classes","bid_window","bid_android","bid_afk","bid_browsers","browserEvents","include_audible","filter_afk","join","default_limit","appQuery","appbucket","filterCategories","browser_appnames","chrome","firefox","opera","brave","edge","vivaldi","browsersWithBuckets","browserbuckets","browsername_to_bucketid","keys","browserName","bucketId","bucket_id","browser_appnames_str","fullDesktopQuery","windowbucket","afkbucket","filterAFK","editorActivityQuery","editorbuckets","q","editorbucket","concat","hourlyCategoryQuery","dailyActivityQuery","dailyActivityQueryAndroid","androidbucket","level_sep","COLOR_UNCAT","defaultCategories","rule","regex","color","ignore_case","annotate","ch","name_pretty","subname","parent","depth","createMissingParents","all_full_names","Set","_createMissing","children","has","new_parent","add","build_category_hierarchy","assignChildren","classes_at_level","cls","child","flatten_category_hierarchy","hier","h","level","saveClasses","localStorage","log","loadClasses","classes_json","parse","loadClassesForQuery","pickDeepest","categories","matchString","str","matchingCats","re","RegExp","test","Vue","timestamp","moment","format","friendlydate","parseZone","seconds","seconds_to_duration","filters","orderBy","baseURL","awc","AWClient","testing","Home","Activity","ActivityView","Buckets","Bucket","QueryExplorer","Timeline","Settings","Stopwatch","Search","Dev","NotFound","use","VueRouter","router","routes","path","redirect","_to","landingpage","component","props","meta","subview","fullContainer","window_events","duration","app","title","url","$category","dateToTimeperiod","date","start","timeperiodToStr","tp","end","_state","loaded","available","top_apps","top_titles","browser","top_domains","top_urls","editor","top_files","top_languages","top_projects","category","by_hour","top","active","events","history","android","query_options","browser_buckets","editor_buckets","buckets","afk","timeperiodsAroundTimeperiod","timeperiod","periods","timeperiodsHoursOfDay","_length","timeperiodsStrsHoursOfDay","timeperiodStrsAroundTimeperiod","getters","getActiveHistoryAroundTimeperiod","state","_history","actions","ensure_loaded","commit","dispatch","info","force","root","warn","query_android","queries","_vm","$aw","query","errorHandler","query_window_empty","app_events","title_events","cat_events","active_events","query_desktop_full","rootState","rootGetters","includeAudible","data_window","data_browser","cat","query_browser_empty","domains","urls","query_editor","query_editor_empty","files","projects","languages","query_active_history","tp_str","active_history","pair","status","query_category_time_by_hour","category_time_by_hour","query_active_history_android","query_active_history_empty","set_available","window_available","browser_available","active_available","editor_available","android_available","get_buckets","host","load_demo","groupSumEventsBy","build_active_history","current_day","current_day_end","Math","random","f","es","url_events","domain_events","URL","Date","toISOString","file","language","project","mutations","start_loading","query_window_completed","query_browser_completed","web_chunks","query_editor_completed","query_active_history_completed","query_category_time_by_hour_completed","namespaced","_","require","get_buckets_by_type","bucket","includes","get_buckets_by_host_and_type","afkBucketsByHost","windowBucketsByHost","id","startsWith","androidBucketsByHost","editorBuckets","browserBuckets","getBucket","b","bucketsByHostname","groupBy","ensureBuckets","loadBuckets","getBuckets","getBucketWithEvents","cloneDeep","getEvents","limit","getBucketsWithEvents","deleteBucket","update_buckets","classes_unsaved_changes","classes_hierarchy","all_categories","v","get_category","category_arr","find","load","save","assign","updateClass","new_class","old_class","parent_depth","addClass","removeClass","restoreDefaultClasses","clearAll","saveCompleted","desktopViews","elements","size","defaultViews","views","views_json","loadViews","clearViews","setElements","view_id","restoreDefaults","addView","view","removeView","idx","indexOf","editView","el_id","addVisualization","removeVisualization","Vuex","debug","process","Store","activity","strict","this","_h","$createElement","_c","_self","attrs","staticClass","class","_e","staticStyle","_m","_v","directives","rawName","expression","_s","hostname","version","staticRenderFns","activityViews","isNewReleaseCheckEnabled","computed","$route","mounted","BootstrapVue","Datetime","startOfDay","awclient","mixin","PRODUCTION","$isAndroid","el","render","App","store","hrs","floor","min","sec","now","sinceNow","diff","asSeconds","round","humanize","get_day_start_with_offset","dateParam","dateMoment","startOf","start_of_day","start_of_day_hours","parseInt","start_of_day_minutes","hour","minute","get_hour_offset","get_day_end_with_offset","get_day_period","get_prev_day","datestr","get_next_day","get_offset","hours","minutes","get_today","subtract","handleError","vm","cur","$parent","hooks","$options","errorCaptured","hook","beforeCreate","that","methods","original","args","scale","domain","customColors","hibernating","chromium","spotify","alacritty","vue","python","javascript","localhost","lighten","uncategorized","hashcode","hash","character","charCodeAt","getColorFromString","appname","toLowerCase","abs","toString","getColorFromCategory","allCats","parentCat","cc","getCategoryColorFromString","fallbackColor","useColorFallback","getTitleAttr","label"],"mappings":"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","file":"js/index.0907e6af.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-05430e37\":\"14392190\",\"chunk-082511c6\":\"8e0645fb\",\"chunk-146272f0\":\"40799973\",\"chunk-174d81f3\":\"d1f7ce99\",\"chunk-2d0a38e9\":\"7b12056f\",\"chunk-2d0c0d7f\":\"accc2b4a\",\"chunk-2d0c76ef\":\"5e7d79dc\",\"chunk-2d0c7b05\":\"501a643d\",\"chunk-2d0c912a\":\"bd1bcef7\",\"chunk-2d0e5e97\":\"dbf8bed3\",\"chunk-2d21a3d2\":\"d2e28167\",\"chunk-2f86a19a\":\"177d90b0\",\"chunk-30071da5\":\"d90479cd\",\"chunk-7a90d0ae\":\"44934acc\",\"chunk-32f94bc2\":\"e83c6fa0\",\"chunk-33f4b978\":\"9c735ac4\",\"chunk-350c6800\":\"f75e028e\",\"chunk-3ac746e4\":\"bdd0bcee\",\"chunk-43c6ce18\":\"8081a7a3\",\"chunk-4a5c4e96\":\"cb789678\",\"chunk-51f88b71\":\"f06fd6a3\",\"chunk-6305346e\":\"2f63de82\",\"chunk-6ca6a63a\":\"8da1af14\",\"chunk-7279bfa0\":\"804356ca\",\"chunk-735b296f\":\"8c418f98\",\"chunk-755977c0\":\"cf295b37\",\"chunk-78aa459c\":\"992282e0\",\"chunk-7ffcfa90\":\"9db1ebf3\",\"chunk-895b8e12\":\"5ce208bf\",\"chunk-b9a95f22\":\"9d4062e3\",\"chunk-d9f79038\":\"e3d69c55\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-05430e37\":1,\"chunk-082511c6\":1,\"chunk-146272f0\":1,\"chunk-2f86a19a\":1,\"chunk-7a90d0ae\":1,\"chunk-32f94bc2\":1,\"chunk-3ac746e4\":1,\"chunk-43c6ce18\":1,\"chunk-4a5c4e96\":1,\"chunk-51f88b71\":1,\"chunk-6305346e\":1,\"chunk-7279bfa0\":1,\"chunk-735b296f\":1,\"chunk-755977c0\":1,\"chunk-78aa459c\":1,\"chunk-d9f79038\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-05430e37\":\"0f98da2e\",\"chunk-082511c6\":\"0280c833\",\"chunk-146272f0\":\"751fc494\",\"chunk-174d81f3\":\"31d6cfe0\",\"chunk-2d0a38e9\":\"31d6cfe0\",\"chunk-2d0c0d7f\":\"31d6cfe0\",\"chunk-2d0c76ef\":\"31d6cfe0\",\"chunk-2d0c7b05\":\"31d6cfe0\",\"chunk-2d0c912a\":\"31d6cfe0\",\"chunk-2d0e5e97\":\"31d6cfe0\",\"chunk-2d21a3d2\":\"31d6cfe0\",\"chunk-2f86a19a\":\"d8ebce05\",\"chunk-30071da5\":\"31d6cfe0\",\"chunk-7a90d0ae\":\"a0542226\",\"chunk-32f94bc2\":\"94bdaf8c\",\"chunk-33f4b978\":\"31d6cfe0\",\"chunk-350c6800\":\"31d6cfe0\",\"chunk-3ac746e4\":\"76346a6f\",\"chunk-43c6ce18\":\"866c524b\",\"chunk-4a5c4e96\":\"93d022a9\",\"chunk-51f88b71\":\"e2164394\",\"chunk-6305346e\":\"1f3986b5\",\"chunk-6ca6a63a\":\"31d6cfe0\",\"chunk-7279bfa0\":\"9aad4df0\",\"chunk-735b296f\":\"ee342770\",\"chunk-755977c0\":\"a389593e\",\"chunk-78aa459c\":\"4506d62b\",\"chunk-7ffcfa90\":\"31d6cfe0\",\"chunk-895b8e12\":\"31d6cfe0\",\"chunk-b9a95f22\":\"31d6cfe0\",\"chunk-d9f79038\":\"ee70d10e\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import _ from 'lodash';\n\n// TODO: Sanitize string input of buckets\n\nfunction querystr_to_array(querystr: string): string[] {\n  return querystr\n    .split(';')\n    .filter(l => l)\n    .map(l => l + ';');\n}\n\nfunction escape_doublequote(s: string) {\n  return s.replace(/\"/g, '\\\\\"');\n}\n\ninterface Rule {\n  type: string;\n  regex?: string;\n}\n\ninterface BaseQueryParams {\n  include_audible?: boolean;\n  classes: [string[], Rule][];\n  filter_classes: string[][];\n  bid_browsers?: string[];\n}\n\ninterface DesktopQueryParams extends BaseQueryParams {\n  bid_window: string;\n  bid_afk: string;\n  filter_afk: boolean;\n}\n\ninterface AndroidQueryParams extends BaseQueryParams {\n  bid_android: string;\n}\n\nfunction isDesktopParams(object: any): object is DesktopQueryParams {\n  return 'bid_window' in object;\n}\n\nfunction isAndroidParams(object: any): object is AndroidQueryParams {\n  return 'bid_android' in object;\n}\n\n// Constructs a query that returns a fully-detailed list of events from the merging of several sources (window, afk, web).\n// Performs:\n//  - AFK filtering (if filter_afk is true)\n//  - Categorization (if classes specified)\n//  - Filters by category (if filter_classes set)\n// Puts it's results in `events` and `not_afk` (if not_afk available for platform).\nexport function canonicalEvents(params: DesktopQueryParams | AndroidQueryParams): string {\n  // Needs escaping for regex patterns like '\\w' to work (JSON.stringify adds extra unecessary escaping)\n  const classes_str = JSON.stringify(params.classes).replace(/\\\\\\\\/g, '\\\\');\n  const cat_filter_str = JSON.stringify(params.filter_classes);\n\n  // For simplicity, we assume that bid_window and bid_android are exchangeable (note however it needs special treatment)\n  const bid_window = isDesktopParams(params) ? params.bid_window : params.bid_android;\n\n  return [\n    // Fetch window/app events\n    `events = flood(query_bucket(\"${bid_window}\"));`,\n    // On Android, merge events to avoid overload of events\n    isAndroidParams(params) ? 'events = merge_events_by_keys(events, [\"app\"]);' : '',\n    // Fetch not-afk events\n    isDesktopParams(params)\n      ? `not_afk = flood(query_bucket(\"${params.bid_afk}\"));\n         not_afk = filter_keyvals(not_afk, \"status\", [\"not-afk\"]);`\n      : '',\n    // Fetch browser events\n    params.bid_browsers\n      ? isDesktopParams(params) &&\n        browserEvents(params) +\n          // Include focused and audible browser events as indications of not-afk\n          (params.include_audible\n            ? `audible_events = filter_keyvals(browser_events, \"audible\", [true]);\n             not_afk = period_union(not_afk, audible_events);`\n            : '')\n      : '',\n    // Filter out window events when the user was afk\n    isDesktopParams(params) && params.filter_afk\n      ? 'events = filter_period_intersect(events, not_afk);'\n      : '',\n    // Categorize\n    params.classes ? `events = categorize(events, ${classes_str});` : '',\n    // Filter out selected categories\n    params.filter_classes ? `events = filter_keyvals(events, \"$category\", ${cat_filter_str});` : '',\n  ].join('\\n');\n}\n\nconst default_limit = 100; // Hardcoded limit per group\n\nexport function appQuery(appbucket: string, classes, filterCategories: string[][]): string[] {\n  appbucket = escape_doublequote(appbucket);\n  const params: AndroidQueryParams = {\n    bid_android: appbucket,\n    classes: classes,\n    filter_classes: filterCategories,\n  };\n\n  const code = `\n    ${canonicalEvents(params)}\n\n    title_events = sort_by_duration(merge_events_by_keys(events, [\"app\", \"classname\"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, [\"app\"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n\n    events = sort_by_timestamp(events);\n    app_events  = limit_events(app_events, ${default_limit});\n    title_events  = limit_events(title_events, ${default_limit});\n    duration = sum_durations(events);\n    RETURN  = {\"app_events\": app_events, \"title_events\": title_events, \"cat_events\": cat_events, \"duration\": duration, \"active_events\": app_events};\n  `;\n  return querystr_to_array(code);\n}\n\nconst browser_appnames = {\n  chrome: [\n    // Chrome\n    'Google Chrome',\n    'Google-chrome',\n    'chrome.exe',\n    'google-chrome-stable',\n\n    // Chromium\n    'Chromium',\n    'Chromium-browser',\n    'Chromium-browser-chromium',\n    'chromium.exe',\n\n    // Pre-releases\n    'Google-chrome-beta',\n    'Google-chrome-unstable',\n\n    // Brave (should this be merged with the brave entry?)\n    'Brave-browser',\n  ],\n  firefox: [\n    'Firefox',\n    'Firefox.exe',\n    'firefox',\n    'firefox.exe',\n    'Firefox Developer Edition',\n    'firefoxdeveloperedition',\n    'Firefox-esr',\n    'Firefox Beta',\n    'Nightly',\n  ],\n  opera: ['opera.exe', 'Opera'],\n  brave: ['brave.exe'],\n  edge: [\n    'msedge.exe', // Windows\n    'Microsoft Edge', // macOS\n  ],\n  vivaldi: ['Vivaldi-stable', 'Vivaldi-snapshot', 'vivaldi.exe'],\n};\n\n// Returns a list of (browserName, bucketId) pairs for found browser buckets\nfunction browsersWithBuckets(browserbuckets: string[]): [string, string][] {\n  const browsername_to_bucketid: [string, string | undefined][] = _.map(\n    Object.keys(browser_appnames),\n    browserName => {\n      const bucketId = _.find(browserbuckets, bucket_id => _.includes(bucket_id, browserName));\n      return [browserName, bucketId];\n    }\n  );\n  // Skip browsers for which a bucket couldn't be found\n  return _.filter(browsername_to_bucketid, ([, bucketId]) => bucketId !== undefined);\n}\n\n// Returns a list of active browser events (where the browser was the active window) from all browser buckets\nfunction browserEvents(params: DesktopQueryParams): string {\n  let code = `\n    browser_events = [];\n  `;\n\n  _.each(browsersWithBuckets(params.bid_browsers), ([browserName, bucketId]) => {\n    const browser_appnames_str = JSON.stringify(browser_appnames[browserName]);\n    code += `events_${browserName} = flood(query_bucket(\"${bucketId}\"));\n       window_${browserName} = filter_keyvals(events, \"app\", ${browser_appnames_str});\n       events_${browserName} = filter_period_intersect(events_${browserName}, window_${browserName});\n       events_${browserName} = split_url_events(events_${browserName});\n       browser_events = concat(browser_events, events_${browserName});\n       browser_events = sort_by_timestamp(browser_events);`;\n  });\n  return code;\n}\n\nexport function fullDesktopQuery(\n  browserbuckets: string[],\n  windowbucket: string,\n  afkbucket: string,\n  filterAFK = true,\n  classes,\n  filterCategories: string[][],\n  include_audible: boolean\n): string[] {\n  // Escape `\"`\n  browserbuckets = _.map(browserbuckets, escape_doublequote);\n  windowbucket = escape_doublequote(windowbucket);\n  afkbucket = escape_doublequote(afkbucket);\n\n  // TODO: Get classes\n  const params: DesktopQueryParams = {\n    bid_window: windowbucket,\n    bid_afk: afkbucket,\n    bid_browsers: browserbuckets,\n    classes: classes,\n    filter_classes: filterCategories,\n    filter_afk: filterAFK,\n    include_audible,\n  };\n\n  return querystr_to_array(\n    `\n    ${canonicalEvents(params)}\n    title_events = sort_by_duration(merge_events_by_keys(events, [\"app\", \"title\"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, [\"app\"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n\n    app_events  = limit_events(app_events, ${default_limit});\n    title_events  = limit_events(title_events, ${default_limit});\n    duration = sum_durations(events);\n    ` + // Browser events are retrieved in canonicalQuery\n      `\n    browser_events = split_url_events(browser_events);\n    browser_urls = merge_events_by_keys(browser_events, [\"url\"]);\n    browser_urls = sort_by_duration(browser_urls);\n    browser_urls = limit_events(browser_urls, ${default_limit});\n    browser_domains = merge_events_by_keys(browser_events, [\"$domain\"]);\n    browser_domains = sort_by_duration(browser_domains);\n    browser_domains = limit_events(browser_domains, ${default_limit});\n    browser_duration = sum_durations(browser_events);\n\n    RETURN = {\n        \"window\": {\n            \"app_events\": app_events,\n            \"title_events\": title_events,\n            \"cat_events\": cat_events,\n            \"active_events\": not_afk,\n            \"duration\": duration\n        },\n        \"browser\": {\n            \"domains\": browser_domains,\n            \"urls\": browser_urls,\n            \"duration\": browser_duration\n        }\n    };`\n  );\n}\n\nexport function editorActivityQuery(editorbuckets: string[]): string[] {\n  let q = ['events = [];'];\n  for (let editorbucket of editorbuckets) {\n    editorbucket = escape_doublequote(editorbucket);\n    q.push('events = concat(events, flood(query_bucket(\"' + editorbucket + '\")));');\n  }\n  q = q.concat([\n    'files = sort_by_duration(merge_events_by_keys(events, [\"file\", \"language\"]));',\n    `files = limit_events(files, ${default_limit});`,\n    'languages = sort_by_duration(merge_events_by_keys(events, [\"language\"]));',\n    `languages = limit_events(languages, ${default_limit});`,\n    'projects = sort_by_duration(merge_events_by_keys(events, [\"project\"]));',\n    `projects = limit_events(projects, ${default_limit});`,\n    'duration = sum_durations(events);',\n    'RETURN = {\"files\": files, \"languages\": languages, \"projects\": projects, \"duration\": duration};',\n  ]);\n  return q;\n}\n\nexport function hourlyCategoryQuery(params: DesktopQueryParams) {\n  const q = `\n    ${canonicalEvents(params)}\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n    RETURN = { \"cat_events\": cat_events };\n  `;\n  return querystr_to_array(q);\n}\n\nexport function dailyActivityQuery(afkbucket: string): string[] {\n  afkbucket = escape_doublequote(afkbucket);\n  return [\n    'afkbucket = \"' + afkbucket + '\";',\n    'not_afk = flood(query_bucket(afkbucket));',\n    'not_afk = filter_keyvals(not_afk, \"status\", [\"not-afk\"]);',\n    'not_afk = merge_events_by_keys(not_afk, [\"status\"]);',\n    'RETURN = not_afk;',\n  ];\n}\n\nexport function dailyActivityQueryAndroid(androidbucket: string): string[] {\n  androidbucket = escape_doublequote(androidbucket);\n  return [`events = query_bucket(\"${androidbucket}\");`, 'RETURN = sum_durations(events);'];\n}\n\nexport default {\n  fullDesktopQuery,\n  appQuery,\n  dailyActivityQuery,\n  hourlyCategoryQuery,\n  dailyActivityQueryAndroid,\n  editorActivityQuery,\n};\n","import _ from 'lodash';\n\nconst level_sep = '>';\n\ninterface Rule {\n  type: string;\n  regex?: string;\n  ignore_case?: boolean;\n}\n\nexport interface Category {\n  id?: number;\n  name: string[];\n  name_pretty?: string;\n  subname?: string;\n  rule: Rule;\n  data?: any;\n  depth?: number;\n  parent?: string[];\n  children?: Category[];\n}\n\nconst COLOR_UNCAT = '#CCC';\n\n// The default categories\n// Should be run through createMissingParents before being used in most cases.\nexport const defaultCategories: Category[] = [\n  {\n    name: ['Work'],\n    rule: { type: 'regex', regex: 'Google Docs|libreoffice|ReText' },\n    data: { color: '#0F0' },\n  },\n  {\n    name: ['Work', 'Programming'],\n    rule: { type: 'regex', regex: 'GitHub|Stack Overflow|BitBucket|Gitlab|vim|Spyder|kate' },\n  },\n  {\n    name: ['Work', 'Programming', 'ActivityWatch'],\n    rule: { type: 'regex', regex: 'ActivityWatch|aw-', ignore_case: true },\n  },\n  {\n    name: ['Media', 'Games'],\n    rule: { type: 'regex', regex: 'Minecraft|RimWorld' },\n    data: { color: '#0FF' },\n  },\n  { name: ['Media', 'Video'], rule: { type: 'regex', regex: 'YouTube|Plex|VLC' } },\n  {\n    name: ['Media', 'Social Media'],\n    rule: { type: 'regex', regex: 'reddit|Facebook|Twitter|Instagram|devRant', ignore_case: true },\n  },\n  { name: ['Media', 'Music'], rule: { type: 'regex', regex: 'Spotify|Deezer', ignore_case: true } },\n  {\n    name: ['Comms', 'IM'],\n    rule: { type: 'regex', regex: 'Messenger|Telegram|Signal|WhatsApp|Rambox|Slack|Riot|Discord' },\n  },\n  { name: ['Comms', 'Email'], rule: { type: 'regex', regex: 'Gmail|Thunderbird|mutt|alpine' } },\n  { name: ['Uncategorized'], rule: { type: null }, data: { color: COLOR_UNCAT } },\n];\n\nfunction annotate(c: Category) {\n  const ch = c.name;\n  c.name_pretty = ch.join(level_sep);\n  c.subname = ch.slice(-1)[0];\n  c.parent = ch.length > 1 ? ch.slice(0, -1) : null;\n  c.depth = ch.length - 1;\n  return c;\n}\n\nexport function createMissingParents(classes: Category[]): Category[] {\n  // Creates parents for categories that are missing theirs (implicit parents)\n  classes = _.cloneDeep(classes);\n  classes = classes.slice().map(c => annotate(c));\n  const all_full_names = new Set(classes.map(c => c.name.join(level_sep)));\n\n  function _createMissing(children: Category[]) {\n    children\n      .map(c => c.parent)\n      .filter(p => !!p)\n      .map(p => {\n        const name = p.join(level_sep);\n        if (p && !all_full_names.has(name)) {\n          const new_parent = annotate({ name: p, rule: { type: null } });\n          //console.log('Creating missing parent:', new_parent);\n          classes.push(new_parent);\n          all_full_names.add(name);\n          // New parent might not be top-level, so we need to recurse\n          _createMissing([new_parent]);\n        }\n      });\n  }\n\n  _createMissing(classes);\n  return classes;\n}\n\nexport function build_category_hierarchy(classes: Category[]): Category[] {\n  classes = createMissingParents(classes);\n\n  function assignChildren(classes_at_level: Category[]) {\n    return classes_at_level.map(cls => {\n      cls.children = classes.filter(child => {\n        return child.parent && cls.name\n          ? JSON.stringify(child.parent) == JSON.stringify(cls.name)\n          : false;\n      });\n      assignChildren(cls.children);\n      return cls;\n    });\n  }\n\n  return assignChildren(classes.filter(c => !c.parent));\n}\n\nexport function flatten_category_hierarchy(hier: Category[]): Category[] {\n  return _.flattenDeep(\n    hier.map(h => {\n      const level = [h, flatten_category_hierarchy(h.children)];\n      h.children = [];\n      return level;\n    })\n  );\n}\n\nexport function saveClasses(classes: Category[]) {\n  localStorage.classes = JSON.stringify(classes);\n  console.log('Saved classes', localStorage.classes);\n}\n\nexport function loadClasses(): Category[] {\n  const classes_json = localStorage.classes;\n  if (classes_json && classes_json.length >= 1) {\n    return JSON.parse(classes_json);\n  } else {\n    return defaultCategories;\n  }\n}\n\nexport function loadClassesForQuery(): [string[], Rule][] {\n  return loadClasses()\n    .filter(c => c.rule.type !== null)\n    .map(c => {\n      return [c.name, c.rule];\n    });\n}\n\nfunction pickDeepest(categories: Category[]) {\n  return _.maxBy(categories, c => c.name.length);\n}\n\nexport function matchString(str: string, categories: Category[] | null): Category | null {\n  if (!categories) {\n    console.log(\n      'Categories not passed, loading... (if you see this outside of a test, you should probably pass them)'\n    );\n    categories = loadClasses();\n  }\n  const matchingCats = categories\n    .filter(c => c.rule.type == 'regex')\n    .filter(c => {\n      const re = RegExp(c.rule.regex, c.rule.ignore_case ? 'i' : '');\n      return re.test(str);\n    });\n  if (matchingCats.length > 0) return pickDeepest(matchingCats);\n  return null;\n}\n","'use strict';\n\nimport _ from 'lodash';\nimport Vue from 'vue';\nimport { seconds_to_duration, friendlydate } from './time.js';\n\nimport moment from 'moment';\n\nVue.filter('shortdate', function (timestamp) {\n  return moment(timestamp).format('YYYY-MM-DD');\n});\n\nVue.filter('shorttime', function (timestamp) {\n  return moment(timestamp).format('HH:mm');\n});\n\nVue.filter('friendlytime', function (timestamp) {\n  return friendlydate(timestamp);\n});\n\nVue.filter('iso8601', function (timestamp) {\n  return moment.parseZone(timestamp).format();\n});\n\nVue.filter('friendlyduration', function (seconds) {\n  return seconds_to_duration(seconds);\n});\n\n// Apparently this is how we should do filters now\n// https://github.com/vuejs/vue/issues/2756#issuecomment-215508316\nVue.prototype.filters = {\n  //  filterBy: ...,\n  orderBy: _.orderBy,\n};\n","import { AWClient } from 'aw-client';\n\nlet baseURL = '';\n\n// If running with `npm node dev`, use testing server as origin.\n// Works since CORS is enabled by default when running `aw-server --testing`.\nif (!PRODUCTION) {\n  const protocol = 'http';\n  const hostname = '127.0.0.1';\n  const port = '5666';\n  baseURL = protocol + '://' + hostname + ':' + port;\n}\n\nconst awc = new AWClient('aw-webui', { testing: !PRODUCTION, baseURL });\n\nexport default awc;\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nconst Home = () => import('./views/Home.vue');\n\n// Activity views for desktop\nconst Activity = () => import('./views/activity/Activity.vue');\nconst ActivityView = () => import('./views/activity/ActivityView.vue');\n\nconst Buckets = () => import('./views/Buckets.vue');\nconst Bucket = () => import('./views/Bucket.vue');\nconst QueryExplorer = () => import('./views/QueryExplorer.vue');\nconst Timeline = () => import('./views/Timeline.vue');\nconst Settings = () => import('./views/settings/Settings.vue');\nconst Stopwatch = () => import('./views/Stopwatch.vue');\nconst Search = () => import('./views/Search.vue');\nconst Dev = () => import('./views/Dev.vue');\nconst NotFound = () => import('./views/NotFound.vue');\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  routes: [\n    {\n      path: '/',\n      redirect: _to => {\n        return localStorage.landingpage || '/home';\n      },\n    },\n    { path: '/home', component: Home },\n    {\n      path: '/activity/:host/:periodLength?/:date?',\n      component: Activity,\n      props: true,\n      children: [\n        {\n          path: 'view/:view_id?',\n          meta: { subview: 'view' },\n          name: 'activity-view',\n          component: ActivityView,\n          props: true,\n        },\n        // Unspecified should redirect to summary view is the summary view\n        // (needs to be last since otherwise it'll always match first)\n        {\n          path: '',\n          redirect: 'view/',\n        },\n      ],\n    },\n    { path: '/buckets', component: Buckets },\n    { path: '/buckets/:id', component: Bucket, props: true },\n    { path: '/timeline', component: Timeline, meta: { fullContainer: true } },\n    { path: '/query', component: QueryExplorer },\n    { path: '/settings', component: Settings },\n    { path: '/stopwatch', component: Stopwatch },\n    { path: '/search', component: Search },\n    { path: '/dev', component: Dev },\n    // NOTE: Will break with Vue 3: https://stackoverflow.com/questions/40193634/vue-router-redirect-on-page-not-found-404/64186073#64186073\n    {\n      path: '*',\n      component: NotFound,\n    },\n  ],\n});\n\nexport default router;\n","export const window_events = [\n  {\n    duration: 32.1 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'ActivityWatch/activitywatch: Track how you spend your time - Mozilla Firefox',\n      url: 'https://github.com/ActivityWatch/activitywatch',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 14.6 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Inbox - Gmail - Mozilla Firefox',\n      url: 'https://mail.google.com',\n      $category: ['Comms', 'Email'],\n    },\n  },\n  {\n    duration: 0.2 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'reddit: the front page of the internet - Mozilla Firefox',\n      url: 'https://reddit.com',\n      $category: ['Media', 'Social Media'],\n    },\n  },\n  {\n    duration: 0.2 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'YouTube - Mozilla Firefox',\n      url: 'https://youtube.com',\n      $category: ['Media', 'Video'],\n    },\n  },\n  {\n    duration: 0.15 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Home / Twitter - Mozilla Firefox',\n      url: 'https://twitter.com',\n      $category: ['Media', 'Social Media'],\n    },\n  },\n  {\n    duration: 0.15 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Stack Overflow',\n      url: 'https://stackoverflow.com',\n      $category: ['Work', 'Programming'],\n    },\n  },\n  {\n    duration: 48.2 * 60,\n    data: {\n      app: 'Terminal',\n      title: 'vim ~/code/activitywatch/aw-server/aw-webui/src',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 12.6 * 60,\n    data: {\n      app: 'Terminal',\n      title: 'bash ~/code/activitywatch',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 58.1 * 60,\n    data: {\n      app: 'zoom',\n      title: 'Zoom Meeting',\n      $category: ['Comms', 'Video Conferencing'],\n    },\n  },\n  {\n    duration: 0.4 * 60 * 60,\n    data: { app: 'Minecraft', title: 'Minecraft', $category: ['Media', 'Games'] },\n  },\n  {\n    duration: 3.15 * 60,\n    data: { app: 'Spotify', title: 'Spotify', $category: ['Media', 'Music'] },\n  },\n];\n","import moment from 'moment';\nimport { unitOfTime } from 'moment';\nimport * as _ from 'lodash';\nimport { map, filter, values, groupBy, sortBy, flow, reverse } from 'lodash/fp';\n\nimport { window_events } from '~/util/fakedata';\nimport queries from '~/queries';\nimport { getColorFromCategory } from '~/util/color';\nimport { loadClassesForQuery } from '~/util/classes';\nimport { get_day_start_with_offset } from '~/util/time';\n\ninterface TimePeriod {\n  start: string;\n  length: [number, string];\n}\n\nfunction dateToTimeperiod(date: string, duration?: [number, string]): TimePeriod {\n  return { start: get_day_start_with_offset(date), length: duration || [1, 'day'] };\n}\n\nfunction timeperiodToStr(tp: TimePeriod): string {\n  const start = moment(tp.start).format();\n  const end = moment(start)\n    .add(tp.length[0], tp.length[1] as moment.unitOfTime.DurationConstructor)\n    .format();\n  return [start, end].join('/');\n}\n\ninterface QueryOptions {\n  host: string;\n  date?: string;\n  timeperiod?: TimePeriod;\n  filterAFK?: boolean;\n  includeAudible?: boolean;\n  filterCategories?: string[][];\n  force?: boolean;\n}\n\n// initial state\nconst _state = {\n  // set to true once loading has started\n  loaded: false,\n\n  window: {\n    available: false,\n    top_apps: [],\n    top_titles: [],\n  },\n\n  browser: {\n    available: false,\n    duration: [],\n    top_domains: [],\n    top_urls: [],\n  },\n\n  editor: {\n    available: false,\n    duration: [],\n    top_files: [],\n    top_languages: [],\n    top_projects: [],\n  },\n\n  category: {\n    available: false,\n    by_hour: [],\n    top: [],\n  },\n\n  active: {\n    available: false,\n    duration: 0,\n    // non-afk events (no detail data) for the current period\n    events: [],\n    // Aggregated events for current and past periods\n    history: {},\n  },\n\n  android: {\n    available: false,\n  },\n\n  query_options: {\n    browser_buckets: 'all',\n    editor_buckets: 'all',\n  },\n\n  buckets: {\n    loaded: false,\n    afk: [],\n    window: [],\n    editor: [],\n    browser: [],\n    android: [],\n  },\n};\n\nfunction timeperiodsAroundTimeperiod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  for (let i = -15; i <= 15; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * timeperiod.length[0], timeperiod.length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ ...timeperiod, start });\n  }\n  return periods;\n}\n\nfunction timeperiodsHoursOfDay(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  const _length: [number, string] = [1, 'hour'];\n  for (let i = 0; i < 24; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * _length[0], _length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ start, length: _length });\n  }\n  // const periods = _.range(24).map(i => [TimePeriod(moment(i * 1 + dayOffset), [1, 'hour'])]);\n  return periods;\n}\n\nfunction timeperiodsStrsHoursOfDay(timeperiod: TimePeriod): string[] {\n  return timeperiodsHoursOfDay(timeperiod).map(timeperiodToStr);\n}\n\nfunction timeperiodStrsAroundTimeperiod(timeperiod: TimePeriod): string[] {\n  return timeperiodsAroundTimeperiod(timeperiod).map(timeperiodToStr);\n}\n\n// getters\nconst getters = {\n  getActiveHistoryAroundTimeperiod: state => (timeperiod: TimePeriod) => {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod);\n    const _history = periods.map(tp => {\n      if (_.has(state.active.history, tp)) {\n        return state.active.history[tp];\n      } else {\n        // A zero-duration placeholder until new data has been fetched\n        return [{ timestamp: moment(tp.split('/')[0]).format(), duration: 0, data: {} }];\n      }\n    });\n    return _history;\n  },\n};\n\n// actions\nconst actions = {\n  async ensure_loaded({ commit, state, dispatch }, query_options: QueryOptions) {\n    console.info('Query options: ', query_options);\n    if (!state.loaded || state.query_options !== query_options || query_options.force) {\n      commit('start_loading', query_options);\n      if (!query_options.timeperiod) {\n        query_options.timeperiod = dateToTimeperiod(query_options.date);\n      }\n\n      await dispatch('buckets/ensureBuckets', null, { root: true });\n      await dispatch('get_buckets', query_options);\n\n      // TODO: These queries can actually run in parallel, but since server won't process them in parallel anyway we won't.\n      await dispatch('set_available', query_options);\n\n      if (state.window.available) {\n        await dispatch('query_desktop_full', query_options);\n        await dispatch('query_category_time_by_hour', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_android', query_options);\n      } else {\n        console.log(\n          'Cannot query windows as we are missing either an afk/window bucket pair or an android bucket'\n        );\n        await dispatch('query_window_empty', query_options);\n        await dispatch('query_browser_empty', query_options);\n      }\n\n      if (state.active.available) {\n        await dispatch('query_active_history', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_active_history_android', query_options);\n      } else {\n        console.log('Cannot call query_active_history as we do not have an afk bucket');\n        await dispatch('query_active_history_empty', query_options);\n      }\n\n      if (state.editor.available) {\n        await dispatch('query_editor', query_options);\n      } else {\n        console.log('Cannot call query_editor as we do not have any editor buckets');\n        await dispatch('query_editor_empty', query_options);\n      }\n    } else {\n      console.warn(\n        'ensure_loaded called twice with same query_options but without query_options.force = true, skipping...'\n      );\n    }\n  },\n\n  async query_android({ state, commit }, { timeperiod, filterCategories }: QueryOptions) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.appQuery(state.buckets.android[0], classes, filterCategories);\n    const data = await this._vm.$aw.query(periods, q).catch(this.errorHandler);\n    commit('query_window_completed', data[0]);\n  },\n\n  async query_window_empty({ commit }) {\n    const data = {\n      app_events: [],\n      title_events: [],\n      cat_events: [],\n      active_events: [],\n      duration: 0,\n    };\n    commit('query_window_completed', data);\n  },\n\n  async query_desktop_full(\n    { state, commit, rootState, rootGetters },\n    { timeperiod, filterCategories, filterAFK, includeAudible }: QueryOptions\n  ) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.fullDesktopQuery(\n      state.buckets.browser,\n      state.buckets.window[0],\n      state.buckets.afk[0],\n      filterAFK,\n      classes,\n      filterCategories,\n      includeAudible\n    );\n    const data = await this._vm.$aw.query(periods, q);\n\n    const data_window = data[0].window;\n    const data_browser = data[0].browser;\n\n    // Set $color for categories\n    data_window.cat_events = data[0].window['cat_events'].map(e => {\n      const cat = rootGetters['categories/get_category'](e.data['$category']);\n      e.data['$color'] = getColorFromCategory(cat, rootState.categories.classes);\n      return e;\n    });\n\n    commit('query_window_completed', data_window);\n    commit('query_browser_completed', data_browser);\n  },\n\n  async query_browser_empty({ commit }) {\n    const data = {\n      domains: [],\n      urls: [],\n      duration: 0,\n    };\n    commit('query_browser_completed', data);\n  },\n\n  async query_editor({ state, commit }, { timeperiod }) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const q = queries.editorActivityQuery(state.buckets.editor);\n    const data = await this._vm.$aw.query(periods, q);\n    commit('query_editor_completed', data[0]);\n  },\n\n  async query_editor_empty({ commit }) {\n    const data = {\n      files: [],\n      projects: [],\n      languages: [],\n    };\n    commit('query_editor_completed', data);\n  },\n\n  async query_active_history({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(\n      periods,\n      queries.dailyActivityQuery(state.buckets.afk[0])\n    );\n    const active_history = _.zipObject(\n      periods,\n      _.map(data, pair => _.filter(pair, e => e.data.status == 'not-afk'))\n    );\n    commit('query_active_history_completed', { active_history });\n  },\n\n  async query_category_time_by_hour(\n    { commit, state },\n    { timeperiod, filterCategories, filterAFK }: QueryOptions\n  ) {\n    // TODO: Only works for the 1 day timeperiod\n    // TODO: Needs to be adapted for Android\n    const periods = timeperiodsStrsHoursOfDay(timeperiod);\n    const classes = loadClassesForQuery();\n    const data = await this._vm.$aw.query(\n      periods,\n      // TODO: Clean up call, pass QueryParams in fullDesktopQuery as well\n      // TODO: Unify QueryOptions and QueryParams\n      queries.hourlyCategoryQuery({\n        bid_afk: state.buckets.afk[0],\n        bid_window: state.buckets.window[0],\n        bid_browsers: state.buckets.browser,\n        // bid_android: state.buckets.android,\n        classes: classes,\n        filter_afk: filterAFK,\n        filter_classes: filterCategories,\n      })\n    );\n    const category_time_by_hour = _.zipObject(periods, data);\n    commit('query_category_time_by_hour_completed', { category_time_by_hour });\n  },\n\n  async query_active_history_android({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(\n      periods,\n      queries.dailyActivityQueryAndroid(state.buckets.android[0])\n    );\n    let active_history = _.zipObject(periods, data);\n    active_history = _.mapValues(active_history, (duration, key) => {\n      return [{ timestamp: key.split('/')[0], duration, data: { status: 'not-afk' } }];\n    });\n    commit('query_active_history_completed', { active_history });\n  },\n\n  async query_active_history_empty({ commit }) {\n    const data = [];\n    commit('query_active_history_completed', data);\n  },\n\n  async set_available({ commit, state }) {\n    const window_available = state.buckets.afk.length > 0 && state.buckets.window.length > 0;\n    const browser_available =\n      state.buckets.afk.length > 0 &&\n      state.buckets.window.length > 0 &&\n      state.buckets.browser.length > 0;\n    const active_available = state.buckets.afk.length > 0;\n    const editor_available = state.buckets.editor.length > 0;\n    const android_available = state.buckets.android.length > 0;\n    commit('set_available', {\n      window_available: window_available,\n      browser_available: browser_available,\n      active_available: active_available,\n      editor_available: editor_available,\n      android_available: android_available,\n    });\n  },\n\n  async get_buckets({ commit, rootGetters }, { host }) {\n    const buckets = {\n      afk: rootGetters['buckets/afkBucketsByHost'](host),\n      window: rootGetters['buckets/windowBucketsByHost'](host),\n      android: rootGetters['buckets/androidBucketsByHost'](host),\n      browser: rootGetters['buckets/browserBuckets'],\n      editor: rootGetters['buckets/editorBuckets'],\n    };\n    console.log('Available buckets: ', buckets);\n    commit('buckets', buckets);\n  },\n\n  async load_demo({ commit }) {\n    // A function to load some demo data (for screenshots and stuff)\n    commit('start_loading', {});\n\n    function groupSumEventsBy(events, key, f) {\n      return flow(\n        filter(f),\n        groupBy(f),\n        values,\n        map((es: any) => {\n          return { duration: _.sumBy(es, 'duration'), data: { [key]: f(es[0]) } };\n        }),\n        sortBy('duration'),\n        reverse\n      )(events);\n    }\n\n    const app_events = groupSumEventsBy(window_events, 'app', (e: any) => e.data.app);\n    const title_events = groupSumEventsBy(window_events, 'title', (e: any) => e.data.title);\n    const cat_events = groupSumEventsBy(window_events, '$category', (e: any) => e.data.$category);\n    const url_events = groupSumEventsBy(window_events, 'url', (e: any) => e.data.url);\n    const domain_events = groupSumEventsBy(window_events, '$domain', (e: any) =>\n      e.data.url === undefined ? '' : new URL(e.data.url).host\n    );\n\n    commit('query_window_completed', {\n      duration: _.sumBy(window_events, 'duration'),\n      app_events,\n      title_events,\n      cat_events,\n      active_events: [\n        { timestamp: new Date().toISOString(), duration: 1.5 * 60 * 60, data: { afk: 'not-afk' } },\n      ],\n    });\n\n    commit('browser_buckets', ['aw-watcher-firefox']);\n    commit('query_browser_completed', {\n      duration: _.sumBy(url_events, 'duration'),\n      domains: domain_events,\n      urls: url_events,\n    });\n\n    commit('editor_buckets', ['aw-watcher-vim']);\n    commit('query_editor_completed', {\n      duration: 30,\n      files: [{ duration: 10, data: { file: 'test.py' } }],\n      languages: [{ duration: 10, data: { language: 'python' } }],\n      projects: [{ duration: 10, data: { project: 'aw-core' } }],\n    });\n\n    function build_active_history() {\n      const active_history = {};\n      let current_day = moment(get_day_start_with_offset());\n      _.map(_.range(0, 30), () => {\n        const current_day_end = moment(current_day).add(1, 'day');\n        active_history[`${current_day.format()}/${current_day_end.format()}`] = [\n          {\n            timestamp: current_day.format(),\n            duration: 100 + 900 * Math.random(),\n            data: { status: 'not-afk' },\n          },\n        ];\n        current_day = current_day.add(-1, 'day');\n      });\n      return active_history;\n    }\n    commit('query_active_history_completed', { active_history: build_active_history() });\n  },\n};\n\n// mutations\nconst mutations = {\n  start_loading(state, query_options: QueryOptions) {\n    state.loaded = true;\n    state.query_options = query_options;\n\n    // Resets the store state while waiting for new query to finish\n    state.window.top_apps = null;\n    state.window.top_titles = null;\n\n    state.browser.duration = 0;\n    state.browser.top_domains = null;\n    state.browser.top_urls = null;\n\n    state.editor.duration = 0;\n    state.editor.top_files = null;\n    state.editor.top_languages = null;\n    state.editor.top_projects = null;\n\n    state.category.top = null;\n\n    state.active.duration = null;\n\n    // Ensures that active history isn't being fully reloaded on every date change\n    // (see caching done in query_active_history and query_active_history_android)\n    // FIXME: Better detection of when to actually clear (such as on force reload, hostname change)\n    if (Object.keys(state.active.history).length === 0) {\n      state.active.history = {};\n    }\n  },\n\n  set_available(state, data) {\n    state.window.available = data['window_available'];\n    state.browser.available = data['browser_available'];\n    state.active.available = data['active_available'];\n    state.editor.available = data['editor_available'];\n    state.category.available = data['window_available'] || data['android_available'];\n    state.android.available = data['android_available'];\n  },\n\n  query_window_completed(state, data) {\n    state.window.top_apps = data['app_events'];\n    state.window.top_titles = data['title_events'];\n    state.category.top = data['cat_events'];\n    state.active.duration = data['duration'];\n    state.active.events = data['active_events'];\n  },\n\n  query_browser_completed(state, data) {\n    state.browser.top_domains = data.domains;\n    state.browser.top_urls = data.urls;\n    state.browser.duration = data.duration;\n\n    // FIXME: This one might take up a lot of size in the request, move it to a seperate request\n    // (or remove entirely, since we have the other timeline now)\n    state.web_chunks = data['chunks'];\n  },\n\n  query_editor_completed(state, data) {\n    state.editor.duration = data['duration'];\n    state.editor.top_files = data['files'];\n    state.editor.top_languages = data['languages'];\n    state.editor.top_projects = data['projects'];\n  },\n\n  query_active_history_completed(state, { active_history }) {\n    state.active.history = {\n      ...state.active.history,\n      ...active_history,\n    };\n  },\n\n  query_category_time_by_hour_completed(state, { category_time_by_hour }) {\n    state.category.by_hour = category_time_by_hour;\n  },\n\n  buckets(state, data) {\n    state.buckets = data;\n    state.buckets.loaded = true;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","const _ = require('lodash');\n\n// initial state\nconst state = {\n  buckets: [],\n};\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_type(buckets, type) {\n  return _.map(\n    _.filter(buckets, bucket => bucket['type'] === type && !bucket['id'].includes('testing')),\n    bucket => bucket['id']\n  );\n}\n\n// TODO: Remove the bucket['id'].includes(testing) check (only needed because I had an old bucket laying around)\nfunction get_buckets_by_host_and_type(buckets, host, type) {\n  return _.map(\n    _.filter(\n      buckets,\n      bucket =>\n        bucket['type'] === type && bucket['hostname'] == host && !bucket['id'].includes('testing')\n    ),\n    bucket => bucket['id']\n  );\n}\n\n// getters\nconst getters = {\n  afkBucketsByHost: state => host => {\n    return get_buckets_by_host_and_type(state.buckets, host, 'afkstatus');\n  },\n  windowBucketsByHost: state => host => {\n    return _.filter(\n      get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'),\n      id => !id.startsWith('aw-watcher-android')\n    );\n  },\n  androidBucketsByHost: state => host => {\n    return _.filter(get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'), id =>\n      id.startsWith('aw-watcher-android')\n    );\n  },\n  editorBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'app.editor.activity');\n  },\n  browserBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'web.tab.current');\n  },\n  getBucket: state => id => _.filter(state.buckets, b => b.id === id)[0],\n  bucketsByHostname: state => _.groupBy(state.buckets, 'hostname'),\n};\n\n// actions\nconst actions = {\n  async ensureBuckets({ state, dispatch }) {\n    if (state.buckets.length === 0) {\n      await dispatch('loadBuckets');\n    }\n  },\n\n  async loadBuckets({ commit }) {\n    const buckets = await this._vm.$aw.getBuckets();\n    commit('update_buckets', buckets);\n  },\n\n  async getBucketWithEvents({ getters, dispatch }, { id, start, end }) {\n    await dispatch('ensureBuckets');\n    const bucket = _.cloneDeep(getters.getBucket(id));\n    bucket.events = await this._vm.$aw.getEvents(bucket.id, {\n      start,\n      end,\n      limit: -1,\n    });\n    return bucket;\n  },\n\n  async getBucketsWithEvents({ state, dispatch }, { start, end }) {\n    await dispatch('ensureBuckets');\n    const buckets = await Promise.all(\n      _.map(\n        state.buckets,\n        async bucket => await dispatch('getBucketWithEvents', { id: bucket.id, start, end })\n      )\n    );\n    return _.orderBy(buckets, [b => b.id], ['asc']);\n  },\n\n  async deleteBucket({ dispatch }, { bucketId }) {\n    console.log(`Deleting bucket ${bucketId}`);\n    await this._vm.$aw.deleteBucket(bucketId);\n    await dispatch('loadBuckets');\n  },\n};\n\n// mutations\nconst mutations = {\n  update_buckets(state, buckets) {\n    state.buckets = buckets;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: state,\n  getters,\n  actions,\n  mutations,\n};\n","import _ from 'lodash';\nimport {\n  saveClasses,\n  loadClasses,\n  defaultCategories,\n  build_category_hierarchy,\n  createMissingParents,\n} from '~/util/classes';\n\n// initial state\nconst _state = {\n  classes: [],\n  classes_unsaved_changes: false,\n};\n\n// getters\nconst getters = {\n  classes_hierarchy: state => {\n    const hier = build_category_hierarchy(_.cloneDeep(state.classes));\n    return _.sortBy(hier, [c => c.id || 0]);\n  },\n  all_categories: state => {\n    // Returns a list of category names (a list of list of strings)\n    return _.uniqBy(\n      _.flatten(\n        state.classes.map(c => {\n          const l = [];\n          for (let i = 1; i <= c.name.length; i++) {\n            l.push(c.name.slice(0, i));\n          }\n          return l;\n        })\n      ),\n      v => v.join('>>>>') // Can be any separator that doesn't appear in the category names themselves\n    );\n  },\n  get_category: state => category_arr => {\n    return state.classes.find(c => _.isEqual(c.name, category_arr));\n  },\n};\n\n// actions\nconst actions = {\n  async load({ commit }) {\n    commit('loadClasses', await loadClasses());\n  },\n  async save({ state, commit }) {\n    const r = await saveClasses(state.classes);\n    commit('saveCompleted');\n    return r;\n  },\n};\n\n// mutations\nconst mutations = {\n  loadClasses(state, classes) {\n    classes = createMissingParents(classes);\n\n    let i = 0;\n    state.classes = classes.map(c => Object.assign(c, { id: i++ }));\n    console.log('Loaded classes:', state.classes);\n    state.classes_unsaved_changes = false;\n  },\n  import(state, classes) {\n    let i = 0;\n    // overwrite id even if already set\n    state.classes = classes.map(c => Object.assign(c, { id: i++ }));\n    console.log('Loaded classes:', state.classes);\n    state.classes_unsaved_changes = true;\n  },\n  updateClass(state, new_class) {\n    console.log('Updating class:', new_class);\n    const old_class = _.cloneDeep(state.classes[new_class.id]);\n\n    if (new_class.id === undefined || new_class.id === null) {\n      new_class.id = _.max(_.map(state.classes, 'id')) + 1;\n      state.classes.push(new_class);\n    } else {\n      Object.assign(state.classes[new_class.id], new_class);\n    }\n\n    // When a parent category is renamed, we also need to rename the children\n    const parent_depth = old_class.name.length;\n    _.map(state.classes, c => {\n      if (_.isEqual(old_class.name, c.name.slice(0, parent_depth))) {\n        c.name = new_class.name.concat(c.name.slice(parent_depth));\n        console.log('Renamed child:', c.name);\n      }\n    });\n\n    state.classes_unsaved_changes = true;\n  },\n  addClass(state, new_class) {\n    new_class.id = _.max(_.map(state.classes, 'id')) + 1;\n    state.classes.push(new_class);\n    state.classes_unsaved_changes = true;\n  },\n  removeClass(state, cls) {\n    state.classes = state.classes.filter(c => c.id !== cls.id);\n    state.classes_unsaved_changes = true;\n  },\n  restoreDefaultClasses(state) {\n    let i = 0;\n    state.classes = createMissingParents(defaultCategories).map(c => Object.assign(c, { id: i++ }));\n    state.classes_unsaved_changes = true;\n  },\n  clearAll(state) {\n    state.classes = [];\n    state.classes_unsaved_changes = true;\n  },\n  saveCompleted(state) {\n    state.classes_unsaved_changes = false;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","interface Element {\n  type: string;\n  size?: number;\n}\n\ninterface View {\n  id: string;\n  name: string;\n  elements: Element[];\n}\n\nconst desktopViews: View[] = [\n  {\n    id: 'summary',\n    name: 'Summary',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_titles', size: 3 },\n      { type: 'top_domains', size: 3 },\n      { type: 'top_categories', size: 3 },\n      { type: 'category_tree', size: 3 },\n      { type: 'category_sunburst', size: 3 },\n    ],\n  },\n  {\n    id: 'window',\n    name: 'Window',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_titles', size: 3 },\n    ],\n  },\n  {\n    id: 'browser',\n    name: 'Browser',\n    elements: [\n      { type: 'top_domains', size: 3 },\n      { type: 'top_urls', size: 3 },\n    ],\n  },\n  {\n    id: 'editor',\n    name: 'Editor',\n    elements: [\n      { type: 'top_editor_files', size: 3 },\n      { type: 'top_editor_projects', size: 3 },\n      { type: 'top_editor_languages', size: 3 },\n    ],\n  },\n];\n\nconst androidViews = [\n  {\n    id: 'summary',\n    name: 'Summary',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_categories', size: 3 },\n      { type: 'timeline_barchart', size: 3 },\n      { type: 'category_tree', size: 3 },\n      { type: 'category_sunburst', size: 3 },\n    ],\n  },\n];\n\n// FIXME: Decide depending on what kind of device is being viewed, not from which device it is being viewed.\nconst defaultViews = !process.env.VUE_APP_ON_ANDROID ? desktopViews : androidViews;\n\ninterface State {\n  views: View[];\n}\n\n// initial state\nconst _state: State = {\n  views: [],\n};\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {\n  async load({ commit }) {\n    let views: View[];\n    if (typeof localStorage !== 'undefined') {\n      const views_json = localStorage.views;\n      if (views_json && views_json.length >= 1) {\n        views = JSON.parse(views_json);\n      }\n    }\n    if (!views) {\n      views = defaultViews;\n    }\n    commit('loadViews', views);\n  },\n  async save({ state, dispatch }) {\n    localStorage.views = JSON.stringify(state.views);\n    // After save, reload views from localStorage\n    await dispatch('load');\n  },\n};\n\n// mutations\nconst mutations = {\n  loadViews(state: State, views: View[]) {\n    state.views = views;\n    console.log('Loaded views:', state.views);\n  },\n  clearViews(state: State) {\n    state.views = [];\n  },\n  setElements(state: State, { view_id, elements }) {\n    state.views.find(v => v.id == view_id).elements = elements;\n  },\n  restoreDefaults(state: State) {\n    state.views = defaultViews;\n  },\n  addView(state: State, view: View) {\n    state.views.push({ ...view, elements: [] });\n  },\n  removeView(state: State, { view_id }) {\n    const idx = state.views.map(v => v.id).indexOf(view_id);\n    state.views.splice(idx, 1);\n  },\n  editView(state: State, { view_id, el_id, type }) {\n    console.log(view_id, el_id, type);\n    console.log(state.views);\n    state.views.find(v => v.id == view_id).elements[el_id].type = type;\n  },\n  addVisualization(state: State, { view_id, type }) {\n    state.views.find(v => v.id == view_id).elements.push({ type: type });\n  },\n  removeVisualization(state: State, { view_id, el_id }) {\n    state.views.find(v => v.id == view_id).elements.splice(el_id, 1);\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport activity from './modules/activity';\nimport buckets from './modules/buckets';\nimport categories from './modules/categories';\nimport views from './modules/views';\n//import createLogger from '../../../src/plugins/logger';\n\nVue.use(Vuex);\n\nconst debug = process.env.NODE_ENV !== 'production';\n\nexport default new Vuex.Store({\n  modules: {\n    activity,\n    buckets,\n    categories,\n    views,\n  },\n  strict: debug,\n  //  plugins: debug ? [createLogger()] : [],\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('aw-header'),_c('div',{staticClass:\"px-0 px-md-3\",class:{'container': !_vm.fullContainer, 'container-fluid': _vm.fullContainer}},[_c('div',{staticClass:\"aw-container my-3 p-3\"},[_c('error-boundary',[_c('user-satisfaction-poll'),(_vm.isNewReleaseCheckEnabled)?_c('new-release-notification'):_vm._e(),_c('router-view')],1)],1)]),_c('div',{staticClass:\"container\",staticStyle:{\"color\":\"#555\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._m(0),_c('div',[_c('a',{staticClass:\"mr-2\",attrs:{\"href\":\"https://github.com/ActivityWatch/activitywatch\",\"target\":\"_blank\"}},[_c('icon',{attrs:{\"name\":\"brands/github\"}}),_vm._v(\"GitHub\")],1),_c('a',{attrs:{\"href\":\"https://twitter.com/ActivityWatchIt\",\"target\":\"_blank\"}},[_c('icon',{attrs:{\"name\":\"brands/twitter\"}}),_vm._v(\"Twitter\")],1)])]),_c('div',{staticStyle:{\"float\":\"right\",\"text-align\":\"right\"}},[_vm._v(\"Found a bug? \"),_c('a',{attrs:{\"href\":\"https://github.com/ActivityWatch/activitywatch/issues/new/choose\"}},[_vm._v(\"File an issue\")]),_c('br'),_vm._v(\"Need help? \"),_c('a',{attrs:{\"href\":\"https://forum.activitywatch.net/c/support\"}},[_vm._v(\"Ask on the forum\")]),_c('br'),_vm._v(\"Missing a feature? \"),_c('a',{attrs:{\"href\":\"https://forum.activitywatch.net/c/features\"}},[_vm._v(\"Vote on the forum\")]),_c('br'),_vm._v(\"Built something cool? \"),_c('a',{attrs:{\"href\":\"https://forum.activitywatch.net/c/projects\"}},[_vm._v(\"Share it on the forum\")]),_c('br'),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.info),expression:\"info\"}],staticClass:\"mt-2\",staticStyle:{\"color\":\"#888\",\"font-size\":\"0.8em\"}},[_vm._v(\"Host: \"+_vm._s(_vm.info.hostname)),_c('br'),_vm._v(\"Version: \"+_vm._s(_vm.info.version))])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-1\"},[_vm._v(\"Made with  by the \"),_c('a',{attrs:{\"href\":\"http://activitywatch.net/contributors/\"}},[_vm._v(\"ActivityWatch developers\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv#wrapper\n  aw-header\n\n  div(:class=\"{'container': !fullContainer, 'container-fluid': fullContainer}\").px-0.px-md-3\n    div.aw-container.my-3.p-3\n      error-boundary\n        user-satisfaction-poll\n        new-release-notification(v-if=\"isNewReleaseCheckEnabled\")\n        router-view\n\n  div.container(style=\"color: #555\")\n    div(style=\"float: left\")\n      div.mb-1\n        | Made with  by the #[a(href=\"http://activitywatch.net/contributors/\") ActivityWatch developers]\n      div\n        a.mr-2(href=\"https://github.com/ActivityWatch/activitywatch\", target=\"_blank\")\n          icon(name=\"brands/github\")\n          | GitHub\n        a(href=\"https://twitter.com/ActivityWatchIt\", target=\"_blank\")\n          icon(name=\"brands/twitter\")\n          | Twitter\n\n    div(style=\"float: right; text-align: right;\")\n      | Found a bug? #[a(href=\"https://github.com/ActivityWatch/activitywatch/issues/new/choose\") File an issue]\n      br\n      | Need help? #[a(href=\"https://forum.activitywatch.net/c/support\") Ask on the forum]\n      br\n      | Missing a feature? #[a(href=\"https://forum.activitywatch.net/c/features\") Vote on the forum]\n      br\n      | Built something cool? #[a(href=\"https://forum.activitywatch.net/c/projects\") Share it on the forum]\n      br\n      span.mt-2(v-show=\"info\", style=\"color: #888; font-size: 0.8em\")\n        | Host: {{info.hostname}}\n        br\n        | Version: {{info.version}}\n</template>\n\n<script>\n// only import the icons you use to reduce bundle size\nimport 'vue-awesome/icons/brands/twitter';\nimport 'vue-awesome/icons/brands/github';\n\nexport default {\n  data: function () {\n    return {\n      activityViews: [],\n      info: {},\n      isNewReleaseCheckEnabled: !process.env.VUE_APP_ON_ANDROID,\n    };\n  },\n\n  computed: {\n    fullContainer() {\n      return this.$route.meta.fullContainer;\n    },\n  },\n\n  mounted: async function () {\n    this.$aw.getInfo().then(\n      info => {\n        this.info = info;\n      },\n      e => {\n        console.error('Unable to connect: ', e);\n        this.info = {};\n      }\n    );\n  },\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4b25fd92&lang=pug&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import '@babel/polyfill';\n\nimport Vue from 'vue';\n\n// Load the Bootstrap CSS\nimport BootstrapVue from 'bootstrap-vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nVue.use(BootstrapVue);\n\nimport { Datetime } from 'vue-datetime';\nimport 'vue-datetime/dist/vue-datetime.css';\nVue.component('datetime', Datetime);\n\n// Setup default settings\nif (!('startOfDay' in localStorage)) {\n  localStorage.startOfDay = '04:00';\n}\n\n// Load the Varela Round font\nimport 'typeface-varela-round';\n\nimport './style/style.scss';\n\n// Loads all the filters\nimport './util/filters.js';\n\n// Create an instance of AWClient as this.$aw\nimport awclient from './util/awclient.js';\nVue.prototype.$aw = awclient;\n\n// Sets up the routing and the base app (using vue-router)\nimport router from './route.js';\n\n// Sets up the vuex store\nimport store from './store';\n\n// Register Font Awesome icon component\nVue.component('icon', () => import('vue-awesome/components/Icon'));\n\n// General components\nVue.component('error-boundary', () => import('./components/ErrorBoundary.vue'));\nVue.component('input-timeinterval', () => import('./components/InputTimeInterval.vue'));\nVue.component('aw-header', () => import('./components/Header.vue'));\nVue.component('aw-devonly', () => import('./components/DevOnly.vue'));\nVue.component('aw-selectable-vis', () => import('./components/SelectableVisualization.vue'));\nVue.component('aw-selectable-eventview', () => import('./components/SelectableEventView.vue'));\nVue.component('new-release-notification', () => import('./components/NewReleaseNotification.vue'));\nVue.component('user-satisfaction-poll', () => import('./components/UserSatisfactionPoll.vue'));\n\n// Visualization components\nVue.component('aw-summary', () => import('./visualizations/Summary.vue'));\nVue.component('aw-periodusage', () => import('./visualizations/PeriodUsage.vue'));\nVue.component('aw-eventlist', () => import('./visualizations/EventList.vue'));\nVue.component('aw-sunburst-categories', () => import('./visualizations/SunburstCategories.vue'));\nVue.component('aw-sunburst-clock', () => import('./visualizations/SunburstClock.vue'));\nVue.component('aw-timeline-inspect', () => import('./visualizations/TimelineInspect.vue'));\nVue.component('aw-timeline', () => import('./visualizations/TimelineSimple.vue'));\nVue.component('vis-timeline', () => import('./visualizations/VisTimeline.vue'));\nVue.component('aw-categorytree', () => import('./visualizations/CategoryTree.vue'));\nVue.component('aw-timeline-barchart', () => import('./visualizations/TimelineBarChart.vue'));\nVue.component('aw-calendar', () => import('./visualizations/Calendar.vue'));\n\n// A mixin to make async method errors propagate\nVue.mixin(require('~/mixins/asyncErrorCaptured.js'));\n\n// Set the PRODUCTION constant\n// FIXME: Thould follow Vue convention and start with a $.\nVue.prototype.PRODUCTION = PRODUCTION;\n\n// Set the $isAndroid constant\nVue.prototype.$isAndroid = process.env.VUE_APP_ON_ANDROID;\n\n// Setup Vue app\nimport App from './App';\nnew Vue({\n  el: '#app',\n  router: router,\n  render: h => h(App),\n  store,\n});\n","import moment from 'moment';\n\nexport function seconds_to_duration(seconds) {\n  // Returns a human-readable duration string\n  const hrs = Math.floor(seconds / 60 / 60);\n  const min = Math.floor((seconds / 60) % 60);\n  const sec = Math.floor(seconds % 60);\n  const l = [];\n  if (hrs != 0) l.push(hrs + 'h');\n  if (min != 0) l.push(min + 'm');\n  if (sec != 0 || l.length == 0) l.push(sec + 's');\n  return l.join(' ');\n}\n\nexport function friendlydate(timestamp) {\n  const now = moment();\n  const m = moment.parseZone(timestamp);\n  const sinceNow = moment.duration(m.diff(now));\n  if (-sinceNow.asSeconds() <= 60) {\n    return `${Math.round(-sinceNow.asSeconds())}s ago`;\n  } else if (-sinceNow.asSeconds() <= 60 * 60 * 24) {\n    return sinceNow.humanize(true);\n  }\n  return sinceNow.humanize(true);\n}\n\nexport function get_day_start_with_offset(dateParam) {\n  const dateMoment = dateParam ? moment(dateParam) : moment().startOf('day');\n  const start_of_day = localStorage.startOfDay;\n  const start_of_day_hours = parseInt(start_of_day.split(':')[0]);\n  const start_of_day_minutes = parseInt(start_of_day.split(':')[1]);\n  return dateMoment.hour(start_of_day_hours).minute(start_of_day_minutes).format();\n}\n\n// Return the startOfDay offset as a number of hours\nexport function get_hour_offset() {\n  const start_of_day = localStorage.startOfDay;\n  const start_of_day_hours = parseInt(start_of_day.split(':')[0]);\n  const start_of_day_minutes = parseInt(start_of_day.split(':')[1]);\n  return start_of_day_hours + start_of_day_minutes / 60;\n}\n\nexport function get_day_end_with_offset(date) {\n  return moment(get_day_start_with_offset(date)).add(1, 'days').format();\n}\n\nexport function get_day_period(date) {\n  return get_day_start_with_offset(date) + '/' + get_day_end_with_offset(date);\n}\n\nexport function get_prev_day(datestr) {\n  return moment(datestr).add(-1, 'days');\n}\n\nexport function get_next_day(datestr) {\n  return moment(datestr).add(1, 'days');\n}\n\nexport function get_offset() {\n  const start_of_day = localStorage.startOfDay;\n  const [hours, minutes] = start_of_day.split(':');\n  return moment.duration({ hours, minutes });\n}\n\nexport function get_today() {\n  // Gets \"today\" in an offset-aware way\n  return moment().subtract(get_offset()).startOf('day').format('YYYY-MM-DD');\n}\n","// This mixin fixes following issue: errorHandler does not work with async component methods.\n// Fixing that issue is required for the ErrorBoundary component to work correctly.\n//\n// First I tried https://github.com/vuejs/vue/issues/7653\n// That didn't work, so I then tried: https://markeev.com/posts/vue-error-handling/\n// Which seems to work! (as long as you mark all functions as async and use await properly)\n\nfunction handleError(error, vm, info) {\n  let cur = vm;\n  while ((cur = cur.$parent)) {\n    const hooks = cur.$options.errorCaptured || [];\n    for (const hook of hooks) if (hook.call(cur, error, vm, info) === false) break;\n  }\n}\n\nexport default {\n  beforeCreate: function () {\n    const that = this;\n    const methods = this.$options.methods || {};\n    for (const key in methods) {\n      const original = methods[key];\n      methods[key] = function (...args) {\n        try {\n          const result = original.apply(this, args);\n          // let's analyse what is returned from the method\n          if (result && typeof result.then === 'function' && typeof result.catch === 'function') {\n            // this looks like a Promise. let's handle it's errors:\n            return result.catch(function (err) {\n              handleError(err, that, key);\n            });\n          } else return result;\n        } catch (e) {\n          handleError(e, that, key);\n        }\n      };\n    }\n  },\n};\n","import _ from 'lodash';\nimport { Category, matchString, loadClasses } from './classes';\nimport Color from 'color';\nimport * as d3 from 'd3';\n\n// TODO: Move elsewhere\ninterface Event {\n  timestamp: string;\n  duration: number;\n  data: any;\n}\n\ninterface Bucket {\n  name: string;\n  type: string;\n}\n\n// See here for examples:\n//   https://bl.ocks.org/pstuffa/3393ff2711a53975040077b7453781a9\n//\n\nconst COLOR_UNCAT = '#CCC';\n\nconst scale = d3.scaleOrdinal(['#90CAF9', '#FFE082', '#EF9A9A', '#A5D6A7']);\n\n// Needed to prewarm the color table\nscale.domain(\n  '0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20'.split(/, /)\n);\n\nconst customColors = {\n  afk: '#EEE',\n  'not-afk': '#7F6',\n  hibernating: '#DD6',\n\n  'google-chrome': '#6AA7FE', // Google Blue: \"#4885ed\"\n  chromium: '#8CF', // Google Blue: \"#4885ed\"\n  firefox: '#F94', // Firefox Orange: \"#E55B0A\"\n  spotify: '#5FA', // Spotify Green: \"#1ED760\"\n  alacritty: '#FD8',\n\n  vue: '#5d9', // Vue teal #4fc08d\n  python: '#369', // Python blue #2b5b84\n  javascript: '#f6b', // JavaScript pink #eb47a5\n\n  // Developer domains\n  localhost: '#CCC',\n  'github.com': '#EBF',\n  'stackoverflow.com': Color('#F48024').lighten(0.3),\n\n  'google.com': '#0AF',\n  'google.se': '#0AF',\n\n  // Social media sites\n  'messenger.com': Color('#3b5998').lighten(0.5),\n  'facebook.com': Color('#3b5998').lighten(0.5),\n\n  // Categories\n  uncategorized: COLOR_UNCAT,\n};\n\nfunction hashcode(str: string): number {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    const character = str.charCodeAt(i);\n    hash = (hash << 5) - hash + character;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nexport function getColorFromString(appname: string) {\n  appname = appname || '';\n  appname = appname.toLowerCase();\n  return customColors[appname] || scale(Math.abs(hashcode(appname) % 20).toString());\n}\n\n// TODO: Move into vuex?\nexport function getColorFromCategory(c: Category, allCats: Category[]): string {\n  // Returns the color for a certain category, falling back to parents if none set\n  if (c && c.data && c.data.color) {\n    return c.data.color;\n  } else if (c && c.name.slice(0, -1).length > 0) {\n    // If no color is set on category, traverse parents until one is found\n    const parent = c.name.slice(0, -1);\n    const parentCat = allCats.find(cc => _.isEqual(cc.name, parent));\n    return getColorFromCategory(parentCat, allCats);\n  } else {\n    return COLOR_UNCAT;\n  }\n}\n\n// TODO: Move into vuex?\nexport function getCategoryColorFromString(str: string): string {\n  // TODO: Don't load classes on every call\n  const allCats = loadClasses();\n  const c = matchString(str, allCats);\n  if (c !== null) {\n    return getColorFromCategory(c, allCats);\n  } else {\n    return fallbackColor(str);\n  }\n}\n\nfunction fallbackColor(str: string): string {\n  // Get fallback color\n  // TODO: Fetch setting from somewhere better, where defaults are respected\n  const useColorFallback = localStorage !== undefined ? localStorage.useColorFallback : true;\n  if (useColorFallback) {\n    return getColorFromString(str);\n  } else {\n    return COLOR_UNCAT;\n  }\n}\n\nexport function getTitleAttr(bucket: Bucket, e: Event) {\n  if (bucket.type == 'currentwindow') {\n    return e.data.app;\n  } else if (bucket.type == 'web.tab.current') {\n    try {\n      return new URL(e.data.url).hostname.replace('www.', '');\n    } catch (err) {\n      return e.data.url;\n    }\n  } else if (bucket.type == 'afkstatus') {\n    return e.data.status;\n  } else if (bucket.type.startsWith('app.editor')) {\n    return _.last(e.data.file.split('/'));\n  } else if (bucket.type.startsWith('general.stopwatch')) {\n    return e.data.label;\n  } else {\n    return e.data.title;\n  }\n}\n"],"sourceRoot":""}